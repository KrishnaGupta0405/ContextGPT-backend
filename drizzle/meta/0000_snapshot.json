{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.users_sessions": {
      "name": "users_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "device_info": {
          "name": "device_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "is_revoked": {
          "name": "is_revoked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_id": {
          "name": "user_id",
          "tableFrom": "users_sessions",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_sessions_refresh_token_key": {
          "columns": [
            "refresh_token"
          ],
          "nullsNotDistinct": false,
          "name": "user_sessions_refresh_token_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.website_subscriptions": {
      "name": "website_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "chatbot_given": {
          "name": "chatbot_given",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pages_upto": {
          "name": "pages_upto",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "team_member_access": {
          "name": "team_member_access",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "api_access": {
          "name": "api_access",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "auto_sync_data": {
          "name": "auto_sync_data",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "auto_sync_data_occurrence": {
          "name": "auto_sync_data_occurrence",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_support": {
          "name": "webhook_support",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "platform_integration_allowed": {
          "name": "platform_integration_allowed",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "custom_platform_integration": {
          "name": "custom_platform_integration",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "user_message_rate_limit": {
          "name": "user_message_rate_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "chk_auto_sync_occurrence": {
          "name": "chk_auto_sync_occurrence",
          "value": "(auto_sync_data = false) OR ((auto_sync_data_occurrence)::text = ANY ((ARRAY['monthly'::character varying, 'weekly'::character varying, 'daily'::character varying])::text[]))"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.website_llm_models": {
      "name": "website_llm_models",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "provider": {
          "name": "provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "cost_per_1k_tokens": {
          "name": "cost_per_1k_tokens",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "under_this_subscription_id": {
          "name": "under_this_subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_llm_subscription": {
          "name": "fk_llm_subscription",
          "tableFrom": "website_llm_models",
          "tableTo": "website_subscriptions",
          "schemaTo": "public",
          "columnsFrom": [
            "under_this_subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbots": {
      "name": "user_chatbots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_by_id": {
          "name": "created_by_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_user_chatbots_user": {
          "name": "fk_user_chatbots_user",
          "tableFrom": "user_chatbots",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_user_chatbots_creator": {
          "name": "fk_user_chatbots_creator",
          "tableFrom": "user_chatbots",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "email": {
          "name": "email",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "profile_pic": {
          "name": "profile_pic",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "facebook_link": {
          "name": "facebook_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instagram_link": {
          "name": "instagram_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin_link": {
          "name": "linkedin_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "twitter_link": {
          "name": "twitter_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "youtube_link": {
          "name": "youtube_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_key": {
          "columns": [
            "email"
          ],
          "nullsNotDistinct": false,
          "name": "users_email_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_team_members": {
      "name": "users_team_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "leaved_at": {
          "name": "leaved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_team_chatbot": {
          "name": "fk_team_chatbot",
          "tableFrom": "users_team_members",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_team_user": {
          "name": "fk_team_user",
          "tableFrom": "users_team_members",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_chatbot_user": {
          "columns": [
            "chatbot_id",
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "uq_chatbot_user"
        }
      },
      "checkConstraints": {
        "chk_team_role": {
          "name": "chk_team_role",
          "value": "(role)::text = ANY ((ARRAY['AGENT'::character varying, 'MANAGER'::character varying, 'ADMIN'::character varying, 'SUPER_ADMIN'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_invitations": {
      "name": "users_invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "invited_by_id": {
          "name": "invited_by_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'PENDING'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_invite_chatbot": {
          "name": "fk_invite_chatbot",
          "tableFrom": "users_invitations",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_invite_user": {
          "name": "fk_invite_user",
          "tableFrom": "users_invitations",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "invited_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "chk_invite_role": {
          "name": "chk_invite_role",
          "value": "(role)::text = ANY ((ARRAY['AGENT'::character varying, 'MANAGER'::character varying, 'ADMIN'::character varying])::text[])"
        },
        "chk_invite_status": {
          "name": "chk_invite_status",
          "value": "(status)::text = ANY ((ARRAY['PENDING'::character varying, 'ACCEPTED'::character varying, 'EXPIRED'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_subscriptions": {
      "name": "users_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "current_period_start": {
          "name": "current_period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "current_period_end": {
          "name": "current_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "cancel_at_period_end": {
          "name": "cancel_at_period_end",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "max_chatbots_allowed": {
          "name": "max_chatbots_allowed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "max_tokens_allowed": {
          "name": "max_tokens_allowed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_pages_allowed": {
          "name": "max_pages_allowed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_message_rate_limit": {
          "name": "user_message_rate_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "bonus_messages": {
          "name": "bonus_messages",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "bonus_pages": {
          "name": "bonus_pages",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_us_user": {
          "name": "fk_us_user",
          "tableFrom": "users_subscriptions",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_us_subscription": {
          "name": "fk_us_subscription",
          "tableFrom": "users_subscriptions",
          "tableTo": "website_subscriptions",
          "schemaTo": "public",
          "columnsFrom": [
            "subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "chk_subscription_status": {
          "name": "chk_subscription_status",
          "value": "(status)::text = ANY ((ARRAY['active'::character varying, 'trialing'::character varying, 'past_due'::character varying, 'canceled'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_addons_purchased": {
      "name": "users_addons_purchased",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "addon_id": {
          "name": "addon_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "remove_watermark": {
          "name": "remove_watermark",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "priority_support": {
          "name": "priority_support",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "customer_branding": {
          "name": "customer_branding",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "purchase_date": {
          "name": "purchase_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "extra_messages_granted": {
          "name": "extra_messages_granted",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "extra_chatbots_granted": {
          "name": "extra_chatbots_granted",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "price_paid": {
          "name": "price_paid",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_uap_user": {
          "name": "fk_uap_user",
          "tableFrom": "users_addons_purchased",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_uap_addon": {
          "name": "fk_uap_addon",
          "tableFrom": "users_addons_purchased",
          "tableTo": "website_add_ons",
          "schemaTo": "public",
          "columnsFrom": [
            "addon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "fk_uap_subscription": {
          "name": "fk_uap_subscription",
          "tableFrom": "users_addons_purchased",
          "tableTo": "users_subscriptions",
          "schemaTo": "public",
          "columnsFrom": [
            "subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.website_add_ons": {
      "name": "website_add_ons",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_referrals": {
      "name": "users_referrals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "referrer_user_id": {
          "name": "referrer_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "referred_user_id": {
          "name": "referred_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "promotion_id": {
          "name": "promotion_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "redeemed_at": {
          "name": "redeemed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "bonus_messages": {
          "name": "bonus_messages",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "bonus_pages": {
          "name": "bonus_pages",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_referral_referrer": {
          "name": "fk_referral_referrer",
          "tableFrom": "users_referrals",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "referrer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_referral_referred": {
          "name": "fk_referral_referred",
          "tableFrom": "users_referrals",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "referred_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_referral_promotion": {
          "name": "fk_referral_promotion",
          "tableFrom": "users_referrals",
          "tableTo": "website_promotion_referral",
          "schemaTo": "public",
          "columnsFrom": [
            "promotion_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_unique_referral": {
          "columns": [
            "referrer_user_id",
            "referred_user_id",
            "promotion_id"
          ],
          "nullsNotDistinct": false,
          "name": "uq_unique_referral"
        }
      },
      "checkConstraints": {
        "chk_no_self_referral": {
          "name": "chk_no_self_referral",
          "value": "referrer_user_id <> referred_user_id"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.website_promotion_referral": {
      "name": "website_promotion_referral",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "promotion_share_text": {
          "name": "promotion_share_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "promo_code": {
          "name": "promo_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "message_added": {
          "name": "message_added",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "pages_added": {
          "name": "pages_added",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "target_audience": {
          "name": "target_audience",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "website_promotion_referral_promo_code_key": {
          "columns": [
            "promo_code"
          ],
          "nullsNotDistinct": false,
          "name": "website_promotion_referral_promo_code_key"
        }
      },
      "checkConstraints": {
        "chk_target_audience": {
          "name": "chk_target_audience",
          "value": "(target_audience)::text = ANY ((ARRAY['NEW_USERS'::character varying, 'EXISTING_USERS'::character varying, 'ALL'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_rate_limits": {
      "name": "users_rate_limits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "window_seconds": {
          "name": "window_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "request_limit": {
          "name": "request_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "chk_subject_type": {
          "name": "chk_subject_type",
          "value": "(subject_type)::text = ANY ((ARRAY['USER'::character varying, 'API_KEY'::character varying, 'CHATBOT'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_llm_model_usage": {
      "name": "users_llm_model_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "messages_count": {
          "name": "messages_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tokens_count": {
          "name": "tokens_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_lmu_user": {
          "name": "fk_lmu_user",
          "tableFrom": "users_llm_model_usage",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_usage_tracking": {
      "name": "users_usage_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "billing_period_start": {
          "name": "billing_period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "chatbots_created_count": {
          "name": "chatbots_created_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_sent_count": {
          "name": "messages_sent_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "token_used": {
          "name": "token_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_received_count": {
          "name": "messages_received_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_pages_indexed": {
          "name": "total_pages_indexed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "team_members_count": {
          "name": "team_members_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "llm_usage_id": {
          "name": "llm_usage_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_ut_llm_usage": {
          "name": "fk_ut_llm_usage",
          "tableFrom": "users_usage_tracking",
          "tableTo": "users_llm_model_usage",
          "schemaTo": "public",
          "columnsFrom": [
            "llm_usage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_ut_user": {
          "name": "fk_ut_user",
          "tableFrom": "users_usage_tracking",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_user_billing_period": {
          "columns": [
            "user_id",
            "billing_period_start"
          ],
          "nullsNotDistinct": false,
          "name": "uq_user_billing_period"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_billing": {
      "name": "users_billing",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "razorpay_payment_id": {
          "name": "razorpay_payment_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "razorpay_order_id": {
          "name": "razorpay_order_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "razorpay_signature": {
          "name": "razorpay_signature",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'INR'"
        },
        "subscription_purchased_id": {
          "name": "subscription_purchased_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "addon_purchased_id": {
          "name": "addon_purchased_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "referral_id": {
          "name": "referral_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "billing_type": {
          "name": "billing_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "payment_method": {
          "name": "payment_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_details": {
          "name": "payment_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "payment_status": {
          "name": "payment_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_pdf_url": {
          "name": "invoice_pdf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_billing_user": {
          "name": "fk_billing_user",
          "tableFrom": "users_billing",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_billing_subscription": {
          "name": "fk_billing_subscription",
          "tableFrom": "users_billing",
          "tableTo": "website_subscriptions",
          "schemaTo": "public",
          "columnsFrom": [
            "subscription_purchased_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "fk_billing_addon": {
          "name": "fk_billing_addon",
          "tableFrom": "users_billing",
          "tableTo": "website_add_ons",
          "schemaTo": "public",
          "columnsFrom": [
            "addon_purchased_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "fk_billing_referral": {
          "name": "fk_billing_referral",
          "tableFrom": "users_billing",
          "tableTo": "users_referrals",
          "schemaTo": "public",
          "columnsFrom": [
            "referral_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_billing_razorpay_payment_id_key": {
          "columns": [
            "razorpay_payment_id"
          ],
          "nullsNotDistinct": false,
          "name": "users_billing_razorpay_payment_id_key"
        }
      },
      "checkConstraints": {
        "chk_billing_type": {
          "name": "chk_billing_type",
          "value": "(billing_type)::text = ANY ((ARRAY['SUBSCRIPTION'::character varying, 'ADDON'::character varying, 'REFERRAL'::character varying])::text[])"
        },
        "chk_payment_status": {
          "name": "chk_payment_status",
          "value": "(payment_status)::text = ANY ((ARRAY['created'::character varying, 'authorized'::character varying, 'captured'::character varying, 'refunded'::character varying, 'failed'::character varying])::text[])"
        },
        "chk_single_purchase_target": {
          "name": "chk_single_purchase_target",
          "value": "((((subscription_purchased_id IS NOT NULL))::integer + ((addon_purchased_id IS NOT NULL))::integer) + ((referral_id IS NOT NULL))::integer) = 1"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_api_keys": {
      "name": "users_api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "api_key": {
          "name": "api_key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_api_keys_user": {
          "name": "fk_api_keys_user",
          "tableFrom": "users_api_keys",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_api_keys_api_key_key": {
          "columns": [
            "api_key"
          ],
          "nullsNotDistinct": false,
          "name": "users_api_keys_api_key_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users_api_request_logs": {
      "name": "users_api_request_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "api_key_id": {
          "name": "api_key_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "status_code": {
          "name": "status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "request_ip": {
          "name": "request_ip",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_timestamp": {
          "name": "response_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_api_request_logs_user": {
          "name": "fk_api_request_logs_user",
          "tableFrom": "users_api_request_logs",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_api_request_logs_api_key": {
          "name": "fk_api_request_logs_api_key",
          "tableFrom": "users_api_request_logs",
          "tableTo": "users_api_keys",
          "schemaTo": "public",
          "columnsFrom": [
            "api_key_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_appearance_ui": {
      "name": "user_chatbot_appearance_ui",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chatbot_name": {
          "name": "chatbot_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "tooltip": {
          "name": "tooltip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "welcome_message": {
          "name": "welcome_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "input_placeholder_text": {
          "name": "input_placeholder_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "brand_primary_color": {
          "name": "brand_primary_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "brand_text_color": {
          "name": "brand_text_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "brand_icon_bg_color": {
          "name": "brand_icon_bg_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "show_background": {
          "name": "show_background",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "link_color": {
          "name": "link_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "font_size": {
          "name": "font_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "chat_height": {
          "name": "chat_height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "external_link": {
          "name": "external_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon_size": {
          "name": "icon_size",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "icon_position": {
          "name": "icon_position",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "default_mode": {
          "name": "default_mode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "watermark_brand_icon": {
          "name": "watermark_brand_icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "watermark_brand_text": {
          "name": "watermark_brand_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "watermark_brand_link": {
          "name": "watermark_brand_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "watermark_brand_info_show": {
          "name": "watermark_brand_info_show",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "hide_watermark_sitegpt": {
          "name": "hide_watermark_sitegpt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "right_to_left_mode": {
          "name": "right_to_left_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "enable_dark_mode": {
          "name": "enable_dark_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "distance_from_bottom": {
          "name": "distance_from_bottom",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "horizontal_distance": {
          "name": "horizontal_distance",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bot_icon_src": {
          "name": "bot_icon_src",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "user_icon_src": {
          "name": "user_icon_src",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "agent_icon_src": {
          "name": "agent_icon_src",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "bubble_icon_src": {
          "name": "bubble_icon_src",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_ui_chatbot": {
          "name": "fk_ui_chatbot",
          "tableFrom": "user_chatbot_appearance_ui",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_chatbot_appearance_ui_chatbot_id_key": {
          "columns": [
            "chatbot_id"
          ],
          "nullsNotDistinct": false,
          "name": "user_chatbot_appearance_ui_chatbot_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_behavior": {
      "name": "user_chatbot_behavior",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "hide_sources": {
          "name": "hide_sources",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hide_tooltip": {
          "name": "hide_tooltip",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hide_feedback_buttons": {
          "name": "hide_feedback_buttons",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hide_bottom_navigation": {
          "name": "hide_bottom_navigation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hide_refresh_button": {
          "name": "hide_refresh_button",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hide_expand_button": {
          "name": "hide_expand_button",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hide_home_page": {
          "name": "hide_home_page",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "stay_on_home_page": {
          "name": "stay_on_home_page",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "require_terms_acceptance": {
          "name": "require_terms_acceptance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "disclaimer_text": {
          "name": "disclaimer_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auto_open_chat_desktop": {
          "name": "auto_open_chat_desktop",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_open_chat_desktop_delay": {
          "name": "auto_open_chat_desktop_delay",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "auto_open_chat_mobile": {
          "name": "auto_open_chat_mobile",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_open_chat_mobile_delay": {
          "name": "auto_open_chat_mobile_delay",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "smart_follow_up_prompts_count": {
          "name": "smart_follow_up_prompts_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_behavior_chatbot": {
          "name": "fk_behavior_chatbot",
          "tableFrom": "user_chatbot_behavior",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_chatbot_behavior_chatbot_id_key": {
          "columns": [
            "chatbot_id"
          ],
          "nullsNotDistinct": false,
          "name": "user_chatbot_behavior_chatbot_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_settings_general": {
      "name": "user_chatbot_settings_general",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "disable_smart_followup": {
          "name": "disable_smart_followup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "number_of_smart_followup_question_shown": {
          "name": "number_of_smart_followup_question_shown",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "enable_page_context_awareness": {
          "name": "enable_page_context_awareness",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "history_message_context": {
          "name": "history_message_context",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "llm_model": {
          "name": "llm_model",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "limit_messages_per_conversation": {
          "name": "limit_messages_per_conversation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "max_messages_per_conversation": {
          "name": "max_messages_per_conversation",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_general_chatbot": {
          "name": "fk_general_chatbot",
          "tableFrom": "user_chatbot_settings_general",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_chatbot_settings_general_chatbot_id_key": {
          "columns": [
            "chatbot_id"
          ],
          "nullsNotDistinct": false,
          "name": "user_chatbot_settings_general_chatbot_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_chatting_customers": {
      "name": "user_chatbot_chatting_customers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.cache_delete_requests": {
      "name": "cache_delete_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'PENDING'"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_cache_delete_requests_user": {
          "name": "fk_cache_delete_requests_user",
          "tableFrom": "cache_delete_requests",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_cache_delete_requests_chatbot": {
          "name": "fk_cache_delete_requests_chatbot",
          "tableFrom": "cache_delete_requests",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ingestion_files": {
      "name": "ingestion_files",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "file_tokens": {
          "name": "file_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_pages": {
          "name": "file_pages",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_source": {
          "name": "file_source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "origin": {
          "name": "origin",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "s3_url": {
          "name": "s3_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_chunks": {
          "name": "total_chunks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_ingestion_file_chatbot": {
          "name": "fk_ingestion_file_chatbot",
          "tableFrom": "ingestion_files",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_ingestion_file_user": {
          "name": "fk_ingestion_file_user",
          "tableFrom": "ingestion_files",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ingestion_chunks": {
      "name": "ingestion_chunks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chunk_index": {
          "name": "chunk_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "s3_chunk_url": {
          "name": "s3_chunk_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chunk_text_preview_link": {
          "name": "chunk_text_preview_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_count": {
          "name": "token_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_status": {
          "name": "embedding_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "pinecone_vector_id": {
          "name": "pinecone_vector_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_ingestion_chunk_file": {
          "name": "fk_ingestion_chunk_file",
          "tableFrom": "ingestion_chunks",
          "tableTo": "ingestion_files",
          "schemaTo": "public",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_file_chunk_index": {
          "columns": [
            "file_id",
            "chunk_index"
          ],
          "nullsNotDistinct": false,
          "name": "uq_file_chunk_index"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_conversation_starters": {
      "name": "user_chatbot_conversation_starters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "button_message": {
          "name": "button_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "link_text": {
          "name": "link_text",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "link_src": {
          "name": "link_src",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_cs_chatbot": {
          "name": "fk_cs_chatbot",
          "tableFrom": "user_chatbot_conversation_starters",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_custom_prompts": {
      "name": "user_chatbot_custom_prompts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "temperature": {
          "name": "temperature",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "deletable": {
          "name": "deletable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "creativity_level": {
          "name": "creativity_level",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_custom_prompt_chatbot": {
          "name": "fk_custom_prompt_chatbot",
          "tableFrom": "user_chatbot_custom_prompts",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_follow_up_prompts": {
      "name": "user_chatbot_follow_up_prompts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "button_title": {
          "name": "button_title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "button_message": {
          "name": "button_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "link_text": {
          "name": "link_text",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "link_src": {
          "name": "link_src",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_fup_chatbot": {
          "name": "fk_fup_chatbot",
          "tableFrom": "user_chatbot_follow_up_prompts",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_settings_instruction": {
      "name": "user_chatbot_settings_instruction",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "instruction": {
          "name": "instruction",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creativity_level": {
          "name": "creativity_level",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.5
        },
        "deletable": {
          "name": "deletable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_instruction_chatbot": {
          "name": "fk_instruction_chatbot",
          "tableFrom": "user_chatbot_settings_instruction",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_chatbot_settings_instruction_chatbot_id_key": {
          "columns": [
            "chatbot_id"
          ],
          "nullsNotDistinct": false,
          "name": "user_chatbot_settings_instruction_chatbot_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_personas": {
      "name": "user_chatbot_personas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creativity_level": {
          "name": "creativity_level",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.5
        },
        "deletable": {
          "name": "deletable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_persona_chatbot": {
          "name": "fk_persona_chatbot",
          "tableFrom": "user_chatbot_personas",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_settings_localization_texts": {
      "name": "user_chatbot_settings_localization_texts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "home_title": {
          "name": "home_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "home_description": {
          "name": "home_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "add_details": {
          "name": "add_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_conversation": {
          "name": "start_conversation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "starting": {
          "name": "starting",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "messages_title": {
          "name": "messages_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "messages_description": {
          "name": "messages_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "no_messages": {
          "name": "no_messages",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verify_email_message": {
          "name": "verify_email_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_history_info": {
          "name": "conversation_history_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bot_label": {
          "name": "bot_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "you_label": {
          "name": "you_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_label": {
          "name": "agent_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalate_confirmation": {
          "name": "escalate_confirmation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalate_description": {
          "name": "escalate_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "yes_continue": {
          "name": "yes_continue",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancel": {
          "name": "cancel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "switched_to_human": {
          "name": "switched_to_human",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_new_conversation": {
          "name": "start_new_conversation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_messages_title": {
          "name": "max_messages_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_messages_description": {
          "name": "max_messages_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "connected": {
          "name": "connected",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "disconnected": {
          "name": "disconnected",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "connecting": {
          "name": "connecting",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "disconnecting": {
          "name": "disconnecting",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reconnect": {
          "name": "reconnect",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "account_title": {
          "name": "account_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verify_email_title": {
          "name": "verify_email_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verify_email_description": {
          "name": "verify_email_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_label": {
          "name": "email_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name_label": {
          "name": "name_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_label": {
          "name": "phone_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submit_button": {
          "name": "submit_button",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sending_otp": {
          "name": "sending_otp",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verify_otp": {
          "name": "verify_otp",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "otp_sent_message": {
          "name": "otp_sent_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "otp_label": {
          "name": "otp_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verify_continue": {
          "name": "verify_continue",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resend_otp": {
          "name": "resend_otp",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "edit_details": {
          "name": "edit_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resetting": {
          "name": "resetting",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verifying": {
          "name": "verifying",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logout": {
          "name": "logout",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logging_out": {
          "name": "logging_out",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verified": {
          "name": "verified",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "edit": {
          "name": "edit",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "update": {
          "name": "update",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updating": {
          "name": "updating",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_form_title": {
          "name": "lead_form_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_form_description": {
          "name": "lead_form_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "form_heading": {
          "name": "form_heading",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "form_submitted_message": {
          "name": "form_submitted_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "continue_button": {
          "name": "continue_button",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitting_text": {
          "name": "submitting_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "input_disabled_placeholder": {
          "name": "input_disabled_placeholder",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_chatbot_integration": {
          "name": "fk_chatbot_integration",
          "tableFrom": "user_chatbot_settings_localization_texts",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_integrations": {
      "name": "user_chatbot_integrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "platform_type": {
          "name": "platform_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_integration_chatbot": {
          "name": "fk_integration_chatbot",
          "tableFrom": "user_chatbot_integrations",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "chk_platform_type": {
          "name": "chk_platform_type",
          "value": "(platform_type)::text = ANY ((ARRAY['SLACK'::character varying, 'MESSENGER'::character varying, 'CRISP'::character varying, 'ZOHO_SALES_IQ'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_human_support_settings": {
      "name": "user_chatbot_human_support_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enable_human_support": {
          "name": "enable_human_support",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "replace_all_other_suggestions_with_escalation_buttons": {
          "name": "replace_all_other_suggestions_with_escalation_buttons",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "positive_feedback_prompt": {
          "name": "positive_feedback_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_human_support_prompt": {
          "name": "request_human_support_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "human_support_confirmation_message": {
          "name": "human_support_confirmation_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_notification": {
          "name": "lead_notification",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "lead_notification_email": {
          "name": "lead_notification_email",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_human_support_chatbot": {
          "name": "fk_human_support_chatbot",
          "tableFrom": "user_chatbot_human_support_settings",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_leads_settings": {
      "name": "user_chatbot_leads_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enable_lead_collection": {
          "name": "enable_lead_collection",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "customer_name_take": {
          "name": "customer_name_take",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "customer_name": {
          "name": "customer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_phone_take": {
          "name": "customer_phone_take",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "customer_phone": {
          "name": "customer_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_email_take": {
          "name": "customer_email_take",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "customer_email": {
          "name": "customer_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry_template": {
          "name": "industry_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "when_to_collect_lead": {
          "name": "when_to_collect_lead",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_trigger_keywords": {
          "name": "customer_trigger_keywords",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_form_field": {
          "name": "customer_form_field",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "booking_integration": {
          "name": "booking_integration",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "booking_integration_link": {
          "name": "booking_integration_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_notification": {
          "name": "lead_notification",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "lead_notification_email": {
          "name": "lead_notification_email",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_lead_settings_chatbot": {
          "name": "fk_lead_settings_chatbot",
          "tableFrom": "user_chatbot_leads_settings",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "chk_when_to_collect_lead": {
          "name": "chk_when_to_collect_lead",
          "value": "(when_to_collect_lead IS NULL) OR (when_to_collect_lead = ANY (ARRAY['interest'::text, 'unable_to_answer'::text, 'after_n_messages'::text]))"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_threads": {
      "name": "user_chatbot_threads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chat_user_id": {
          "name": "chat_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "unread_messages_count": {
          "name": "unread_messages_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_token": {
          "name": "webhook_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalated": {
          "name": "escalated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "important": {
          "name": "important",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "positive_count": {
          "name": "positive_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "negative_count": {
          "name": "negative_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_thread_chatbot": {
          "name": "fk_thread_chatbot",
          "tableFrom": "user_chatbot_threads",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_thread_customer": {
          "name": "fk_thread_customer",
          "tableFrom": "user_chatbot_threads",
          "tableTo": "user_chatbot_chatting_customers",
          "schemaTo": "public",
          "columnsFrom": [
            "chat_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ingestion_status_logs": {
      "name": "ingestion_status_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "chunk_id": {
          "name": "chunk_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_ingestion_status_chatbot": {
          "name": "fk_ingestion_status_chatbot",
          "tableFrom": "ingestion_status_logs",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_ingestion_status_file": {
          "name": "fk_ingestion_status_file",
          "tableFrom": "ingestion_status_logs",
          "tableTo": "ingestion_files",
          "schemaTo": "public",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_ingestion_status_chunk": {
          "name": "fk_ingestion_status_chunk",
          "tableFrom": "ingestion_status_logs",
          "tableTo": "ingestion_chunks",
          "schemaTo": "public",
          "columnsFrom": [
            "chunk_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "chk_exactly_one_entity": {
          "name": "chk_exactly_one_entity",
          "value": "(((entity_type)::text = 'FILE'::text) AND (file_id IS NOT NULL) AND (chunk_id IS NULL) AND (source_id IS NULL)) OR (((entity_type)::text = 'CHUNK'::text) AND (chunk_id IS NOT NULL) AND (file_id IS NULL) AND (source_id IS NULL)) OR (((entity_type)::text = 'SOURCE'::text) AND (source_id IS NOT NULL) AND (file_id IS NULL) AND (chunk_id IS NULL))"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ingestion_errors": {
      "name": "ingestion_errors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chunk_id": {
          "name": "chunk_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "step": {
          "name": "step",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_ingestion_error_chatbot": {
          "name": "fk_ingestion_error_chatbot",
          "tableFrom": "ingestion_errors",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_ingestion_error_file": {
          "name": "fk_ingestion_error_file",
          "tableFrom": "ingestion_errors",
          "tableTo": "ingestion_files",
          "schemaTo": "public",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_ingestion_error_chunk": {
          "name": "fk_ingestion_error_chunk",
          "tableFrom": "ingestion_errors",
          "tableTo": "ingestion_chunks",
          "schemaTo": "public",
          "columnsFrom": [
            "chunk_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ingestion_sources": {
      "name": "ingestion_sources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "normalized_url": {
          "name": "normalized_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extractor": {
          "name": "extractor",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "extraction_status": {
          "name": "extraction_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "extracted_pages": {
          "name": "extracted_pages",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_tokens": {
          "name": "extracted_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_ingestion_source_chatbot": {
          "name": "fk_ingestion_source_chatbot",
          "tableFrom": "ingestion_sources",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_ingestion_source_file": {
          "name": "fk_ingestion_source_file",
          "tableFrom": "ingestion_sources",
          "tableTo": "ingestion_files",
          "schemaTo": "public",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_retrieval_runs": {
      "name": "user_chatbot_retrieval_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "query_text": {
          "name": "query_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "vector_filter": {
          "name": "vector_filter",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "top_k": {
          "name": "top_k",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "score_threshold": {
          "name": "score_threshold",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "results_count": {
          "name": "results_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_retrieval_chatbot": {
          "name": "fk_retrieval_chatbot",
          "tableFrom": "user_chatbot_retrieval_runs",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_retrieval_thread": {
          "name": "fk_retrieval_thread",
          "tableFrom": "user_chatbot_retrieval_runs",
          "tableTo": "user_chatbot_threads",
          "schemaTo": "public",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_messages": {
      "name": "user_chatbot_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_type": {
          "name": "message_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "system_message_type": {
          "name": "system_message_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_timestamp": {
          "name": "content_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "agent_name": {
          "name": "agent_name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "parent_message_id": {
          "name": "parent_message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "llm_model_id": {
          "name": "llm_model_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reaction": {
          "name": "reaction",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_message_llm_model": {
          "name": "fk_message_llm_model",
          "tableFrom": "user_chatbot_messages",
          "tableTo": "website_llm_models",
          "schemaTo": "public",
          "columnsFrom": [
            "llm_model_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_message_thread": {
          "name": "fk_message_thread",
          "tableFrom": "user_chatbot_messages",
          "tableTo": "user_chatbot_threads",
          "schemaTo": "public",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_message_chatbot": {
          "name": "fk_message_chatbot",
          "tableFrom": "user_chatbot_messages",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_chatbot_system_errors": {
      "name": "user_chatbot_system_errors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "service": {
          "name": "service",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "error_stage": {
          "name": "error_stage",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "chunk_id": {
          "name": "chunk_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "retrieval_run_id": {
          "name": "retrieval_run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "retryable": {
          "name": "retryable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_error_user": {
          "name": "fk_error_user",
          "tableFrom": "user_chatbot_system_errors",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_error_chatbot": {
          "name": "fk_error_chatbot",
          "tableFrom": "user_chatbot_system_errors",
          "tableTo": "user_chatbots",
          "schemaTo": "public",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_error_thread": {
          "name": "fk_error_thread",
          "tableFrom": "user_chatbot_system_errors",
          "tableTo": "user_chatbot_threads",
          "schemaTo": "public",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_error_message": {
          "name": "fk_error_message",
          "tableFrom": "user_chatbot_system_errors",
          "tableTo": "user_chatbot_messages",
          "schemaTo": "public",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_error_file": {
          "name": "fk_error_file",
          "tableFrom": "user_chatbot_system_errors",
          "tableTo": "ingestion_files",
          "schemaTo": "public",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_error_chunk": {
          "name": "fk_error_chunk",
          "tableFrom": "user_chatbot_system_errors",
          "tableTo": "ingestion_chunks",
          "schemaTo": "public",
          "columnsFrom": [
            "chunk_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {
      "website_subscriptions": {
        "columns": {
          "platform_integration_allowed": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "user_chatbot_human_support_settings": {
        "columns": {
          "lead_notification_email": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "user_chatbot_leads_settings": {
        "columns": {
          "lead_notification_email": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      }
    }
  }
}